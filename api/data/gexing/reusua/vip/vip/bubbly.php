<?php
$qq=$_GET['qq'];
$skey=$_GET['skey'];
$pskey=$_GET['pskey'];
$token=$_GET['token'];
$get=getGTK($skey);
$gey=getGTK($pskey);
$url="https://h5.vip.qq.com/p/mc/cardv2/other?_wv=1031&platform=1&qq=".$qq."&adtag=qun&aid=mvip.pingtai.mobileqq.androidziliaoka.fromqqqun";
$cookie='uin=o'.$qq.'; skey='.$skey.';';
$data=get_result($url,$cookie);
preg_match_all("/<small>(.*?)<\/small>/",$data,$sma);
$sma=$sma[1][4];
preg_match_all("/<p>(.*?)<\/p>/",$data,$lp);
$lp=$lp[1][4];
$lp=substr($lp,0,strlen($lp)-1);

if($sma=="普通用户")
{
$pu=("〖11〗〖12〗〖60〗〖63〗〖110〗〖114〗〖216〗〖398〗〖6385〗〖6386〗〖6397〗");
$result=preg_match_all("/〖(.*?)〗/",$pu,$nute);
for ($x=0; $x < $result && $x<=189; $x++) 
{
$aa=$nute[1][$x];
echo $aa."|";
}
}

else
if($lp=="vip"||$lp=="VIP")
{
$vip=("〖1〗〖2〗〖3〗〖5〗〖8〗〖9〗〖11〗〖12〗〖16〗〖20〗〖21〗〖24〗〖25〗〖26〗〖28〗〖29〗〖35〗〖36〗〖38〗〖39〗〖40〗〖42〗〖43〗〖45〗〖47〗〖48〗〖51〗〖52〗〖55〗〖56〗〖58〗〖59〗〖60〗〖61〗〖63〗〖67〗〖68〗〖69〗〖71〗〖72〗〖74〗〖75〗〖76〗〖78〗〖79〗〖80〗〖81〗〖82〗〖83〗〖85〗〖86〗〖87〗〖89〗〖90〗〖91〗〖94〗〖95〗〖98〗〖101〗〖105〗〖106〗〖109〗〖110〗〖111〗〖112〗〖113〗〖114〗〖118〗〖120〗〖122〗〖125〗〖126〗〖127〗〖128〗〖130〗〖132〗〖133〗〖138〗〖142〗〖146〗〖150〗〖152〗〖155〗〖169〗〖178〗〖180〗〖187〗〖190〗〖191〗〖198〗〖201〗〖202〗〖203〗〖205〗〖206〗〖207〗〖208〗〖209〗〖213〗〖219〗〖220〗〖221〗〖223〗〖227〗〖229〗〖230〗〖233〗〖237〗〖242〗〖244〗〖247〗〖251〗〖261〗〖267〗〖271〗〖281〗〖287〗〖290〗〖293〗〖298〗〖300〗〖310〗〖320〗〖328〗〖334〗〖337〗〖340〗〖342〗〖343〗〖362〗〖368〗〖369〗〖370〗〖371〗〖396〗〖398〗〖399〗〖405〗〖406〗〖416〗〖426〗〖427〗〖428〗〖450〗〖464〗〖465〗〖468〗〖470〗〖471〗〖472〗〖488〗〖498〗〖499〗〖500〗〖501〗〖507〗〖513〗〖525〗〖528〗〖529〗〖531〗〖536〗〖540〗〖543〗〖545〗〖548〗〖2002〗〖2015〗〖2017〗〖2023〗〖2026〗〖2027〗〖2028〗〖2029〗〖2030〗〖2031〗〖2033〗〖2037〗〖2039〗〖2049〗〖2050〗〖2058〗〖2060〗〖2061〗〖2063〗〖2065〗〖2067〗〖2069〗〖2070〗〖2071〗〖2075〗〖2078〗〖2097〗〖2098〗〖2099〗〖2102〗〖2106〗〖2116〗〖2118〗〖2127〗〖2129〗〖2131〗〖2132〗〖2133〗〖2148〗〖2149〗〖2157〗〖2158〗〖2165〗〖2181〗〖2182〗〖2185〗〖2195〗〖2196〗〖2208〗〖2212〗〖2213〗〖2215〗〖2216〗〖2218〗〖2226〗〖2229〗〖2235〗〖2246〗〖2248〗〖2249〗〖2254〗〖2256〗〖2258〗〖2266〗〖2268〗〖2270〗〖2278〗〖2283〗〖2284〗〖2286〗〖2287〗〖2298〗〖2300〗〖2311〗〖2315〗〖2327〗〖2331〗〖2335〗〖2346〗〖2352〗〖2353〗〖2357〗〖2359〗〖2362〗〖2363〗〖2367〗〖2368〗〖2377〗〖2380〗〖2381〗〖2397〗〖2435〗〖2443〗〖2459〗〖2467〗〖2468〗〖2481〗〖2482〗〖2486〗〖2488〗〖2513〗〖2523〗〖2530〗〖2539〗〖2540〗〖2553〗〖2554〗〖2560〗〖2574〗〖2579〗〖2588〗〖2592〗〖2615〗〖2626〗〖2630〗〖2640〗〖2643〗〖2645〗〖2649〗〖2650〗〖2664〗〖2665〗〖2668〗〖2670〗〖2685〗〖2704〗〖2725〗〖2740〗〖2764〗〖2766〗〖2767〗〖2770〗〖2780〗〖2783〗〖2824〗〖2832〗〖2843〗〖2851〗〖2860〗〖2877〗〖2880〗〖2895〗〖2908〗〖2910〗〖2913〗〖2946〗〖2950〗〖3082〗〖3096〗〖500011〗〖500024〗〖500034〗〖600026〗");
$result=preg_match_all("/〖(.*?)〗/",$vip,$nute);
for ($x=0; $x < $result && $x<=189; $x++) 
{
$aa=$nute[1][$x];
echo $aa."|";
}
}

else
if($lp=="SVIP"||$lp=="svip")
{
$svip=("〖1〗〖2〗〖3〗〖4〗〖5〗〖6〗〖7〗〖8〗〖9〗〖10〗〖11〗〖12〗〖13〗〖14〗〖16〗〖19〗〖20〗〖21〗〖24〗〖25〗〖26〗〖28〗〖29〗〖35〗〖36〗〖38〗〖39〗〖40〗〖42〗〖43〗〖44〗〖45〗〖47〗〖48〗〖49〗〖51〗〖52〗〖55〗〖56〗〖58〗〖59〗〖60〗〖61〗〖63〗〖67〗〖68〗〖69〗〖71〗〖72〗〖73〗〖74〗〖75〗〖76〗〖78〗〖79〗〖80〗〖81〗〖82〗〖83〗〖85〗〖86〗〖87〗〖89〗〖90〗〖91〗〖92〗〖94〗〖95〗〖98〗〖101〗〖105〗〖106〗〖109〗〖110〗〖111〗〖112〗〖113〗〖114〗〖118〗〖120〗〖122〗〖124〗〖125〗〖126〗〖127〗〖128〗〖130〗〖132〗〖133〗〖138〗〖142〗〖146〗〖150〗〖152〗〖155〗〖160〗〖169〗〖178〗〖180〗〖187〗〖190〗〖191〗〖198〗〖201〗〖202〗〖203〗〖205〗〖206〗〖207〗〖208〗〖209〗〖213〗〖217〗〖218〗〖219〗〖220〗〖221〗〖223〗〖227〗〖229〗〖230〗〖233〗〖237〗〖242〗〖244〗〖247〗〖248〗〖251〗〖256〗〖261〗〖265〗〖267〗〖271〗〖281〗〖282〗〖284〗〖287〗〖290〗〖292〗〖293〗〖298〗〖300〗〖310〗〖313〗〖316〗〖317〗〖318〗〖320〗〖328〗〖334〗〖335〗〖337〗〖340〗〖342〗〖343〗〖346〗〖359〗〖362〗〖368〗〖369〗〖370〗〖371〗〖396〗〖398〗〖399〗〖405〗〖406〗〖409〗〖416〗〖426〗〖427〗〖428〗〖450〗〖464〗〖465〗〖468〗〖470〗〖471〗〖472〗〖485〗〖487〗〖488〗〖489〗〖491〗〖492〗〖494〗〖495〗〖497〗〖498〗〖499〗〖500〗〖501〗〖505〗〖506〗〖507〗〖508〗〖510〗〖511〗〖513〗〖514〗〖516〗〖518〗〖519〗〖520〗〖521〗〖522〗〖523〗〖524〗〖525〗〖527〗〖528〗〖529〗〖531〗〖534〗〖535〗〖536〗〖537〗〖540〗〖541〗〖542〗〖543〗〖545〗〖546〗〖547〗〖548〗〖2001〗〖2002〗〖2003〗〖2005〗〖2006〗〖2008〗〖2009〗〖2011〗〖2012〗〖2015〗〖2017〗〖2018〗〖2020〗〖2023〗〖2024〗〖2025〗〖2026〗〖2027〗〖2028〗〖2029〗〖2030〗〖2031〗〖2032〗〖2033〗〖2034〗〖2037〗〖2038〗〖2039〗〖2041〗〖2047〗〖2048〗〖2049〗〖2050〗〖2051〗〖2058〗〖2059〗〖2060〗〖2061〗〖2063〗〖2064〗〖2065〗〖2066〗〖2067〗〖2069〗〖2070〗〖2071〗〖2072〗〖2075〗〖2077〗〖2078〗〖2085〗〖2086〗〖2087〗〖2088〗〖2089〗〖2090〗〖2092〗〖2093〗〖2094〗〖2095〗〖2096〗〖2097〗〖2098〗〖2099〗〖2101〗〖2102〗〖2105〗〖2106〗〖2107〗〖2115〗〖2116〗〖2118〗〖2127〗〖2129〗〖2130〗〖2131〗〖2132〗〖2133〗〖2134〗〖2139〗〖2142〗〖2143〗〖2145〗〖2146〗〖2148〗〖2149〗〖2150〗〖2157〗〖2158〗〖2160〗〖2164〗〖2165〗〖2180〗〖2181〗〖2182〗〖2183〗〖2184〗〖2185〗〖2187〗〖2195〗〖2196〗〖2197〗〖2207〗〖2208〗〖2210〗〖2211〗〖2212〗〖2213〗〖2215〗〖2216〗〖2217〗〖2218〗〖2226〗〖2229〗〖2230〗〖2231〗〖2232〗〖2234〗〖2235〗〖2237〗〖2238〗〖2239〗〖2240〗〖2241〗〖2246〗〖2247〗〖2248〗〖2249〗〖2250〗〖2253〗〖2254〗〖2255〗〖2256〗〖2257〗〖2258〗〖2266〗〖2267〗〖2268〗〖2269〗〖2270〗〖2271〗〖2272〗〖2273〗〖2274〗〖2275〗〖2276〗〖2278〗〖2279〗〖2280〗〖2281〗〖2282〗〖2283〗〖2284〗〖2285〗〖2286〗〖2287〗〖2288〗〖2297〗〖2298〗〖2299〗〖2300〗〖2301〗〖2302〗〖2303〗〖2310〗〖2311〗〖2313〗〖2314〗〖2315〗〖2317〗〖2319〗〖2320〗〖2321〗〖2322〗〖2326〗〖2327〗〖2328〗〖2331〗〖2332〗〖2333〗〖2334〗〖2335〗〖2336〗〖2344〗〖2345〗〖2346〗〖2349〗〖2350〗〖2351〗〖2352〗〖2353〗〖2354〗〖2356〗〖2357〗〖2358〗〖2359〗〖2360〗〖2361〗〖2362〗〖2363〗〖2367〗〖2368〗〖2370〗〖2371〗〖2374〗〖2375〗〖2377〗〖2379〗〖2380〗〖2381〗〖2383〗〖2384〗〖2392〗〖2393〗〖2394〗〖2397〗〖2398〗〖2412〗〖2413〗〖2414〗〖2421〗〖2422〗〖2423〗〖2426〗〖2427〗〖2428〗〖2431〗〖2433〗〖2435〗〖2443〗〖2444〗〖2459〗〖2460〗〖2463〗〖2464〗〖2465〗〖2466〗〖2467〗〖2468〗〖2477〗〖2478〗〖2479〗〖2480〗〖2481〗〖2482〗〖2483〗〖2484〗〖2485〗〖2486〗〖2488〗〖2492〗〖2493〗〖2494〗〖2506〗〖2507〗〖2512〗〖2513〗〖2514〗〖2515〗〖2516〗〖2523〗〖2524〗〖2529〗〖2530〗〖2531〗〖2532〗〖2533〗〖2536〗〖2537〗〖2538〗〖2539〗〖2540〗〖2545〗〖2547〗〖2549〗〖2550〗〖2551〗〖2553〗〖2554〗〖2560〗〖2561〗〖2562〗〖2574〗〖2575〗〖2576〗〖2578〗〖2579〗〖2580〗〖2581〗〖2582〗〖2587〗〖2588〗〖2589〗〖2592〗〖2599〗〖2608〗〖2609〗〖2610〗〖2611〗〖2612〗〖2615〗〖2616〗〖2622〗〖2623〗〖2624〗〖2625〗〖2626〗〖2630〗〖2632〗〖2633〗〖2634〗〖2636〗〖2637〗〖2638〗〖2639〗〖2640〗〖2643〗〖2644〗〖2645〗〖2648〗〖2649〗〖2650〗〖2656〗〖2657〗〖2658〗〖2664〗〖2665〗〖2666〗〖2668〗〖2669〗〖2670〗〖2673〗〖2674〗〖2675〗〖2678〗〖2679〗〖2680〗〖2685〗〖2686〗〖2704〗〖2707〗〖2708〗〖2709〗〖2725〗〖2726〗〖2735〗〖2740〗〖2755〗〖2756〗〖2757〗〖2764〗〖2765〗〖2766〗〖2767〗〖2770〗〖2780〗〖2781〗〖2782〗〖2783〗〖2792〗〖2795〗〖2809〗〖2814〗〖2819〗〖2820〗〖2821〗〖2822〗〖2824〗〖2826〗〖2827〗〖2832〗〖2843〗〖2844〗〖2851〗〖2859〗〖2860〗〖2877〗〖2880〗〖2881〗〖2882〗〖2883〗〖2889〗〖2894〗〖2895〗〖2903〗〖2905〗〖2906〗〖2907〗〖2908〗〖2910〗〖2913〗〖2941〗〖2946〗〖2950〗〖2982〗〖3001〗〖3007〗〖3022〗〖3045〗〖3048〗〖3068〗〖3082〗〖3086〗〖3087〗〖3096〗〖3097〗〖10249〗〖500010〗〖500011〗〖500023〗〖500024〗〖500034〗〖500035〗〖600018〗〖600019〗〖600020〗〖600025〗〖600026〗");
$result=preg_match_all("/〖(.*?)〗/",$svip,$nute);
for ($x=0; $x < $result && $x<=189; $x++) 
{
$aa=$nute[1][$x];
echo $aa."|";
}

}
else
{
}




function get_result($url,$cookie)
{
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $url);
$header = array(
'User-Agent: Mozilla/5.0 (Linux; Android 6.0.1; vivo Y55L Build/MMB29M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/6.2 TBS/045140 Mobile Safari/537.36 V1_AND_SQ_8.3.5_1392_YYB_D QQ/8.3.5.4555 NetType/WIFI WebP/0.3.0 Pixel/720 StatusBarHeight/48 SimpleUISwitch/0 QQTheme/1000',
);
//curl_setopt($ch,CURLOPT_POST,true);
//curl_setopt($ch, CURLOPT_POSTFIELDS, $fields);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_HEADER, true);
curl_setopt($ch, CURLOPT_HTTPHEADER, $header);
curl_setopt($ch, CURLOPT_COOKIE, $cookie);
curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 3); //设置等待时间
curl_setopt($ch, CURLOPT_TIMEOUT, 30); //设置cURL允许执行的最长秒数
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0); 
curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 1);
curl_setopt($ch, CURLOPT_USERAGENT, $_SERVER['HTTP_USER_AGENT']); 
curl_setopt($ch, CURLOPT_HEADER, 0); 
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
$content = curl_exec($ch);
curl_close($ch);
return $content;
}

function getGTK($skey){
$len = strlen($skey);
$hash = 5381;
for ($i = 0; $i < $len; $i++) {
$hash += ($hash << 5 & 2147483647) + ord($skey[$i]) & 2147483647;
$hash &= 2147483647;
}
return $hash & 2147483647;
}
?>