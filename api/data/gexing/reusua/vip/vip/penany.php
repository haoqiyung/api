<?php
$qq=$_GET['qq'];
$skey=$_GET['skey'];
$pskey=$_GET['pskey'];
$token=$_GET['token'];
$get=getGTK($skey);
$gey=getGTK($pskey);
$url="https://h5.vip.qq.com/p/mc/cardv2/other?_wv=1031&platform=1&qq=".$qq."&adtag=qun&aid=mvip.pingtai.mobileqq.androidziliaoka.fromqqqun";
$cookie='uin=o'.$qq.'; skey='.$skey.';';
$data=get_result($url,$cookie);
preg_match_all("/<small>(.*?)<\/small>/",$data,$sma);
$sma=$sma[1][4];
preg_match_all("/<p>(.*?)<\/p>/",$data,$lp);
$lp=$lp[1][4];
$lp=substr($lp,0,strlen($lp)-1);

if($sma=="普通用户")
{
$pu=("〖200〗〖203〗〖212〗〖213〗〖214〗〖215〗〖217〗〖218〗〖219〗");
$result=preg_match_all("/〖(.*?)〗/",$pu,$nute);
for ($x=0; $x < $result && $x<=189; $x++) 
{
$aa=$nute[1][$x];
echo $aa."|";
}
}
else
if($lp=="vip"||$lp=="VIP")
{
$vip=("〖2〗〖4〗〖5〗〖8〗〖10〗〖12〗〖21〗〖23〗〖24〗〖26〗〖28〗〖30〗〖35〗〖37〗〖38〗〖39〗〖41〗〖42〗〖43〗〖44〗〖46〗〖48〗〖49〗〖50〗〖52〗〖53〗〖55〗〖56〗〖57〗〖58〗〖59〗〖60〗〖61〗〖63〗〖64〗〖65〗〖66〗〖67〗〖68〗〖69〗〖70〗〖71〗〖72〗〖73〗〖74〗〖75〗〖76〗〖77〗〖78〗〖79〗〖80〗〖82〗〖84〗〖85〗〖87〗〖88〗〖90〗〖91〗〖93〗〖94〗〖95〗〖96〗〖97〗〖98〗〖99〗〖100〗〖101〗〖102〗〖104〗〖108〗〖109〗〖110〗〖112〗〖117〗〖124〗〖127〗〖135〗〖136〗〖137〗〖138〗〖140〗〖141〗〖143〗〖145〗〖146〗〖148〗〖155〗〖156〗〖157〗〖158〗〖159〗〖160〗〖161〗〖165〗〖167〗〖168〗〖169〗〖172〗〖178〗〖179〗〖183〗〖185〗〖186〗〖187〗〖188〗〖189〗〖190〗〖191〗〖192〗〖193〗〖201〗〖202〗〖204〗〖205〗〖212〗〖213〗〖214〗〖215〗〖217〗〖218〗〖219〗〖220〗〖221〗〖222〗〖223〗〖224〗〖227〗〖228〗〖229〗〖230〗〖231〗〖232〗〖233〗〖236〗〖241〗〖242〗〖243〗〖244〗〖255〗〖256〗〖257〗〖258〗〖259〗〖264〗〖266〗〖268〗〖269〗〖271〗〖272〗〖273〗〖278〗〖279〗〖280〗〖287〗〖288〗〖289〗〖290〗〖291〗〖294〗〖295〗〖296〗〖300〗〖301〗〖312〗〖313〗〖314〗〖315〗〖316〗〖323〗〖324〗〖327〗〖328〗〖329〗〖336〗〖337〗〖339〗〖340〗〖341〗〖342〗〖343〗〖344〗〖345〗〖352〗〖353〗〖356〗〖357〗〖358〗〖363〗〖364〗〖365〗〖366〗〖367〗〖368〗〖369〗〖370〗〖371〗〖373〗〖374〗〖375〗〖379〗〖383〗〖384〗〖385〗〖386〗〖387〗〖388〗〖389〗〖390〗〖392〗〖393〗〖395〗〖396〗〖397〗〖398〗〖399〗〖400〗〖401〗〖402〗〖414〗〖415〗〖416〗〖423〗〖424〗〖425〗〖432〗〖433〗〖440〗〖443〗〖444〗〖445〗〖446〗〖447〗〖449〗〖450〗〖451〗〖452〗〖453〗〖454〗〖456〗〖457〗〖458〗〖461〗〖466〗〖474〗〖475〗〖476〗〖492〗〖493〗〖500〗〖501〗〖506〗〖509〗〖518〗〖519〗〖522〗〖524〗〖525〗〖527〗〖528〗〖529〗〖531〗〖532〗〖537〗〖538〗〖541〗〖559〗〖560〗〖561〗〖1007〗〖2002〗〖2003〗〖2004〗〖2005〗〖2009〗〖2010〗〖2011〗〖2016〗〖2019〗〖2020〗〖2021〗〖2023〗〖2025〗〖2027〗〖2034〗〖2035〗〖2038〗〖2039〗〖2041〗〖2043〗〖2052〗〖2053〗〖2060〗〖2061〗〖2062〗〖2063〗〖2064〗〖2066〗〖2068〗〖2069〗〖2070〗〖2071〗〖2073〗〖2074〗〖2075〗〖2076〗〖2077〗〖2078〗〖2080〗〖2081〗〖2082〗〖2083〗〖2084〗〖2085〗〖2086〗〖2087〗〖2088〗〖2092〗〖2095〗〖2096〗〖2098〗〖2115〗〖2116〗〖2117〗〖2118〗〖2120〗〖2121〗〖2122〗〖2123〗〖2124〗〖2125〗〖2128〗〖2129〗〖2130〗〖2132〗〖2133〗〖2138〗〖2141〗〖2148〗〖2150〗〖2151〗〖2152〗〖2163〗〖2164〗〖2165〗〖2168〗〖2170〗〖2187〗〖2188〗〖2191〗〖2193〗〖2208〗〖2211〗〖2218〗〖2223〗〖2228〗〖2231〗〖2233〗〖2243〗〖2255〗〖2258〗〖2267〗〖2268〗〖2269〗〖2280〗〖2282〗〖2285〗〖2286〗〖2287〗〖2288〗〖2289〗〖2290〗〖2294〗〖2300〗〖2302〗〖2304〗〖2305〗〖2312〗〖2320〗〖2321〗〖2335〗〖2340〗〖2343〗〖2348〗〖2349〗〖2361〗〖2373〗〖2374〗〖2385〗〖2386〗〖2393〗〖2394〗〖2395〗〖2415〗〖2423〗〖2428〗〖2451〗〖2475〗〖2484〗〖2491〗〖2493〗〖2496〗〖2504〗〖2505〗〖2520〗〖2521〗〖2524〗〖2525〗〖2526〗〖2546〗〖2550〗〖2581〗〖2589〗〖2595〗〖2604〗〖2605〗〖2606〗〖2607〗〖2608〗〖2628〗〖2645〗〖2650〗〖2675〗〖2702〗〖2703〗〖2704〗〖2705〗〖2721〗〖2722〗〖2725〗〖2727〗〖2731〗〖2737〗〖2739〗〖2748〗〖2758〗〖2776〗〖2790〗〖2863〗〖2864〗〖2867〗〖2868〗〖2872〗〖2915〗〖2924〗〖2925〗〖2926〗〖2938〗〖2944〗〖2945〗〖2964〗〖2972〗〖2973〗〖2974〗〖2975〗〖2978〗〖2991〗〖3011〗〖3012〗〖3014〗〖3027〗〖3030〗〖3069〗〖3072〗〖3077〗〖3090〗〖9552〗〖9553〗〖12041〗");
$result=preg_match_all("/〖(.*?)〗/",$vip,$nute);
for ($x=0; $x < $result && $x<=189; $x++) 
{
$aa=$nute[1][$x];
echo $aa."|";
}
}
else
if($lp=="SVIP"||$lp=="svip")
{
$svip=("〖2〗〖4〗〖5〗〖8〗〖10〗〖12〗〖21〗〖23〗〖24〗〖26〗〖28〗〖30〗〖35〗〖37〗〖38〗〖39〗〖41〗〖42〗〖43〗〖44〗〖46〗〖48〗〖49〗〖50〗〖52〗〖53〗〖55〗〖56〗〖57〗〖58〗〖59〗〖60〗〖61〗〖63〗〖64〗〖65〗〖66〗〖67〗〖68〗〖69〗〖70〗〖71〗〖72〗〖73〗〖74〗〖75〗〖76〗〖77〗〖78〗〖79〗〖80〗〖82〗〖84〗〖85〗〖87〗〖88〗〖90〗〖91〗〖93〗〖94〗〖95〗〖96〗〖97〗〖98〗〖99〗〖100〗〖101〗〖102〗〖104〗〖108〗〖109〗〖110〗〖112〗〖117〗〖119〗〖124〗〖127〗〖129〗〖130〗〖131〗〖132〗〖133〗〖134〗〖135〗〖136〗〖137〗〖138〗〖140〗〖141〗〖143〗〖145〗〖146〗〖148〗〖155〗〖156〗〖157〗〖158〗〖159〗〖160〗〖161〗〖162〗〖163〗〖165〗〖167〗〖168〗〖169〗〖172〗〖174〗〖175〗〖176〗〖178〗〖179〗〖180〗〖181〗〖182〗〖183〗〖185〗〖186〗〖187〗〖188〗〖189〗〖190〗〖191〗〖192〗〖193〗〖201〗〖202〗〖204〗〖205〗〖209〗〖210〗〖211〗〖212〗〖213〗〖214〗〖215〗〖217〗〖218〗〖219〗〖220〗〖221〗〖222〗〖223〗〖224〗〖227〗〖228〗〖229〗〖230〗〖231〗〖232〗〖233〗〖236〗〖237〗〖238〗〖239〗〖240〗〖241〗〖242〗〖243〗〖244〗〖255〗〖256〗〖257〗〖258〗〖259〗〖264〗〖266〗〖268〗〖269〗〖271〗〖272〗〖273〗〖278〗〖279〗〖280〗〖282〗〖283〗〖284〗〖285〗〖286〗〖287〗〖288〗〖289〗〖290〗〖291〗〖294〗〖295〗〖296〗〖300〗〖301〗〖312〗〖313〗〖314〗〖315〗〖316〗〖323〗〖324〗〖327〗〖328〗〖329〗〖336〗〖337〗〖339〗〖340〗〖341〗〖342〗〖343〗〖344〗〖345〗〖352〗〖353〗〖356〗〖357〗〖358〗〖359〗〖360〗〖361〗〖363〗〖364〗〖365〗〖366〗〖367〗〖368〗〖369〗〖370〗〖371〗〖373〗〖374〗〖375〗〖379〗〖383〗〖384〗〖385〗〖386〗〖387〗〖388〗〖389〗〖390〗〖392〗〖393〗〖395〗〖396〗〖397〗〖398〗〖399〗〖400〗〖401〗〖402〗〖414〗〖415〗〖416〗〖418〗〖421〗〖422〗〖423〗〖424〗〖425〗〖432〗〖433〗〖440〗〖441〗〖443〗〖444〗〖445〗〖446〗〖447〗〖449〗〖450〗〖451〗〖452〗〖453〗〖454〗〖455〗〖456〗〖457〗〖458〗〖461〗〖466〗〖467〗〖472〗〖474〗〖475〗〖476〗〖485〗〖486〗〖487〗〖488〗〖492〗〖493〗〖494〗〖495〗〖496〗〖497〗〖498〗〖499〗〖500〗〖501〗〖502〗〖503〗〖504〗〖506〗〖507〗〖508〗〖509〗〖512〗〖513〗〖514〗〖515〗〖516〗〖517〗〖518〗〖519〗〖520〗〖521〗〖522〗〖524〗〖525〗〖527〗〖528〗〖529〗〖530〗〖531〗〖532〗〖534〗〖535〗〖536〗〖537〗〖538〗〖539〗〖540〗〖541〗〖542〗〖543〗〖544〗〖545〗〖546〗〖547〗〖548〗〖549〗〖550〗〖559〗〖560〗〖561〗〖1007〗〖2002〗〖2003〗〖2004〗〖2005〗〖2006〗〖2007〗〖2008〗〖2009〗〖2010〗〖2011〗〖2012〗〖2013〗〖2014〗〖2015〗〖2016〗〖2017〗〖2018〗〖2019〗〖2020〗〖2021〗〖2022〗〖2023〗〖2024〗〖2025〗〖2026〗〖2027〗〖2034〗〖2035〗〖2036〗〖2038〗〖2039〗〖2040〗〖2041〗〖2042〗〖2043〗〖2052〗〖2053〗〖2060〗〖2061〗〖2062〗〖2063〗〖2064〗〖2065〗〖2066〗〖2067〗〖2068〗〖2069〗〖2070〗〖2071〗〖2073〗〖2074〗〖2075〗〖2076〗〖2077〗〖2078〗〖2079〗〖2080〗〖2081〗〖2082〗〖2083〗〖2084〗〖2085〗〖2086〗〖2087〗〖2088〗〖2089〗〖2090〗〖2092〗〖2095〗〖2096〗〖2097〗〖2098〗〖2100〗〖2101〗〖2107〗〖2115〗〖2116〗〖2117〗〖2118〗〖2119〗〖2120〗〖2121〗〖2122〗〖2123〗〖2124〗〖2125〗〖2126〗〖2127〗〖2128〗〖2129〗〖2130〗〖2131〗〖2132〗〖2133〗〖2135〗〖2136〗〖2138〗〖2139〗〖2140〗〖2141〗〖2142〗〖2143〗〖2144〗〖2145〗〖2146〗〖2147〗〖2148〗〖2149〗〖2150〗〖2151〗〖2152〗〖2153〗〖2154〗〖2155〗〖2156〗〖2163〗〖2164〗〖2165〗〖2166〗〖2167〗〖2168〗〖2170〗〖2171〗〖2172〗〖2174〗〖2175〗〖2176〗〖2177〗〖2178〗〖2179〗〖2180〗〖2187〗〖2188〗〖2189〗〖2190〗〖2191〗〖2192〗〖2193〗〖2195〗〖2196〗〖2197〗〖2198〗〖2199〗〖2200〗〖2201〗〖2202〗〖2203〗〖2204〗〖2205〗〖2206〗〖2207〗〖2208〗〖2209〗〖2211〗〖2212〗〖2213〗〖2214〗〖2215〗〖2216〗〖2217〗〖2218〗〖2219〗〖2220〗〖2221〗〖2222〗〖2223〗〖2228〗〖2229〗〖2230〗〖2231〗〖2232〗〖2233〗〖2241〗〖2242〗〖2243〗〖2245〗〖2246〗〖2247〗〖2248〗〖2249〗〖2252〗〖2254〗〖2255〗〖2256〗〖2257〗〖2258〗〖2260〗〖2261〗〖2262〗〖2263〗〖2264〗〖2265〗〖2266〗〖2267〗〖2268〗〖2269〗〖2275〗〖2276〗〖2277〗〖2280〗〖2281〗〖2282〗〖2285〗〖2286〗〖2287〗〖2288〗〖2289〗〖2290〗〖2291〗〖2294〗〖2295〗〖2298〗〖2299〗〖2300〗〖2301〗〖2302〗〖2303〗〖2304〗〖2305〗〖2311〗〖2312〗〖2313〗〖2314〗〖2315〗〖2316〗〖2317〗〖2318〗〖2319〗〖2320〗〖2321〗〖2322〗〖2330〗〖2331〗〖2332〗〖2333〗〖2334〗〖2335〗〖2336〗〖2340〗〖2341〗〖2342〗〖2343〗〖2345〗〖2347〗〖2348〗〖2349〗〖2350〗〖2357〗〖2361〗〖2363〗〖2364〗〖2366〗〖2369〗〖2372〗〖2373〗〖2374〗〖2375〗〖2376〗〖2378〗〖2381〗〖2382〗〖2383〗〖2385〗〖2386〗〖2387〗〖2389〗〖2391〗〖2392〗〖2393〗〖2394〗〖2395〗〖2414〗〖2415〗〖2416〗〖2417〗〖2423〗〖2425〗〖2426〗〖2428〗〖2429〗〖2430〗〖2431〗〖2432〗〖2433〗〖2434〗〖2435〗〖2436〗〖2437〗〖2444〗〖2445〗〖2446〗〖2450〗〖2451〗〖2452〗〖2464〗〖2465〗〖2475〗〖2476〗〖2484〗〖2487〗〖2490〗〖2491〗〖2492〗〖2493〗〖2494〗〖2495〗〖2496〗〖2497〗〖2504〗〖2505〗〖2506〗〖2507〗〖2508〗〖2509〗〖2510〗〖2511〗〖2512〗〖2513〗〖2514〗〖2515〗〖2516〗〖2520〗〖2521〗〖2524〗〖2525〗〖2526〗〖2527〗〖2530〗〖2537〗〖2538〗〖2539〗〖2540〗〖2541〗〖2546〗〖2549〗〖2550〗〖2551〗〖2552〗〖2553〗〖2554〗〖2555〗〖2565〗〖2566〗〖2567〗〖2581〗〖2586〗〖2587〗〖2588〗〖2589〗〖2590〗〖2595〗〖2596〗〖2597〗〖2603〗〖2604〗〖2605〗〖2606〗〖2607〗〖2608〗〖2609〗〖2615〗〖2616〗〖2617〗〖2625〗〖2626〗〖2627〗〖2628〗〖2629〗〖2643〗〖2644〗〖2645〗〖2648〗〖2649〗〖2650〗〖2668〗〖2674〗〖2675〗〖2679〗〖2681〗〖2682〗〖2685〗〖2686〗〖2691〗〖2692〗〖2693〗〖2694〗〖2695〗〖2696〗〖2698〗〖2699〗〖2700〗〖2701〗〖2702〗〖2703〗〖2704〗〖2705〗〖2718〗〖2720〗〖2721〗〖2722〗〖2725〗〖2727〗〖2728〗〖2731〗〖2737〗〖2738〗〖2739〗〖2748〗〖2749〗〖2755〗〖2756〗〖2758〗〖2763〗〖2765〗〖2770〗〖2771〗〖2772〗〖2773〗〖2776〗〖2783〗〖2785〗〖2790〗〖2791〗〖2792〗〖2799〗〖2829〗〖2835〗〖2836〗〖2837〗〖2838〗〖2839〗〖2840〗〖2841〗〖2863〗〖2864〗〖2867〗〖2868〗〖2872〗〖2888〗〖2911〗〖2912〗〖2915〗〖2924〗〖2925〗〖2926〗〖2938〗〖2939〗〖2942〗〖2943〗〖2944〗〖2945〗〖2964〗〖2969〗〖2970〗〖2972〗〖2973〗〖2974〗〖2975〗〖2978〗〖2990〗〖2991〗〖2997〗〖2998〗〖2999〗〖3011〗〖3012〗〖3014〗〖3027〗〖3030〗〖3032〗〖3033〗〖3056〗〖3057〗〖3060〗〖3061〗〖3062〗〖3063〗〖3065〗〖3069〗〖3070〗〖3072〗〖3075〗〖3077〗〖3078〗〖3079〗〖3084〗〖3090〗〖3091〗〖9552〗〖9553〗〖9554〗〖12041〗");
$result=preg_match_all("/〖(.*?)〗/",$svip,$nute);
for ($x=0; $x < $result && $x<=189; $x++) 
{
$aa=$nute[1][$x];
echo $aa."|";
}
}
else
{
}





function get_result($url,$cookie)
{
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $url);
$header = array(
'User-Agent: Mozilla/5.0 (Linux; Android 6.0.1; vivo Y55L Build/MMB29M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/6.2 TBS/045140 Mobile Safari/537.36 V1_AND_SQ_8.3.5_1392_YYB_D QQ/8.3.5.4555 NetType/WIFI WebP/0.3.0 Pixel/720 StatusBarHeight/48 SimpleUISwitch/0 QQTheme/1000',
);
//curl_setopt($ch,CURLOPT_POST,true);
//curl_setopt($ch, CURLOPT_POSTFIELDS, $fields);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_HEADER, true);
curl_setopt($ch, CURLOPT_HTTPHEADER, $header);
curl_setopt($ch, CURLOPT_COOKIE, $cookie);
curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 3); //设置等待时间
curl_setopt($ch, CURLOPT_TIMEOUT, 30); //设置cURL允许执行的最长秒数
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0); 
curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 1);
curl_setopt($ch, CURLOPT_USERAGENT, $_SERVER['HTTP_USER_AGENT']); 
curl_setopt($ch, CURLOPT_HEADER, 0); 
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
$content = curl_exec($ch);
curl_close($ch);
return $content;
}

function getGTK($skey){
$len = strlen($skey);
$hash = 5381;
for ($i = 0; $i < $len; $i++) {
$hash += ($hash << 5 & 2147483647) + ord($skey[$i]) & 2147483647;
$hash &= 2147483647;
}
return $hash & 2147483647;
}
?>